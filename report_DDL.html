
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <style>
  
  


table.cinereousTable {
  border: 6px solid #948473;
  background-color: #FFE3C6;
  width: 100%;
  text-align: left;
}
table.cinereousTable td, table.cinereousTable th {
  border: 3px solid #948473;
  padding: 4px 4px;
}
table.cinereousTable tbody td {
  font-size: 16px;
}
table.cinereousTable thead {
  background: #555555;
  background: -moz-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
  background: -webkit-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
  background: linear-gradient(to bottom, #afa396 0%, #9e9081 66%, #948473 100%);
}
table.cinereousTable thead th {
  font-size: 50px;
  font-weight: bold;
  color: white;
  text-align: left;
  border-left: 2px solid #948473;
}
table.cinereousTable thead th:first-child {
  border-left: none;
}

table.cinereousTable tfoot {
  font-size: 16px;
  font-weight: bold;
  color: #F0F0F0;
  background: #948473;
  background: -moz-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
  background: -webkit-linear-gradient(top, #afa396 0%, #9e9081 66%, #948473 100%);
  background: linear-gradient(to bottom, #afa396 0%, #9e9081 66%, #948473 100%);
}
table.cinereousTable tfoot td {
  font-size: 16px;
}
  
  
  
  
  
  
  
  
  
  
  
  </style>
  
  <title>DB物件及資料變更申請作業</title>

  
  
  
<!--  
  <link rel="stylesheet" src='./jquery-ui-themes-1.12.1/jquery-ui.structure.css'>
  <link rel="stylesheet" src='./jquery-ui-themes-1.12.1/jquery-ui.theme.css'>  
  <script type='text/javascript' src='./jquery-1.12.4.js'></script>    
  <script type='text/javascript' src='./jquery-ui-1.12.1/jquery-ui.js'></script>  
-->

	<link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel = "stylesheet">
<!--  
	
  <script type='text/javascript' src='./jquery-1.12.4.js'></script>    
  <script type='text/javascript' src='./jquery-ui-1.12.1/jquery-ui.js'></script>  
	
-->
	<script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
	<script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  
  
  <script>
  
  $( function() {
    $( "#tabs" ).tabs();
    $( "#tabs2" ).tabs();	
	$( "#constant_date" ).datepicker();
	$( "#emergency_date" ).datepicker();
  } );  
  
  
  
  
  </script>
</head>

<body>

		<center><h1>檢測報告-<span style="color:blue;">通過檢測</span></h1></center>

		<br/></br>
		DB Review Team 備註 : <br/>
		<textarea id="w3review" name="w3review" rows="10" cols="100">確認無誤</textarea><br>
		<button class="ui-button ui-widget ui-corner-all">處理完成</button>
		<button class="ui-button ui-widget ui-corner-all">退件</button>
		</br></br></br>

		

		
		
		<div id="tabs">
			<ul>
				<li><a href="#tabs-1">Table, Index, PK, Housekeeping, Layout</a></li>
			</ul>


			<div id="tabs-1">		
			
				<Br/><Br/>
				
		<div border='1' style="border-style: dotted dashed solid double; padding:5px;">
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">---</span><span style='font-size:19px;font-family:"新細明體","serif";'>新建</span><span style="font-size:19px;">table---</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">CREATE TABLE PTAPMGRSIT.CAMPAIGN_TEAM_CK</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">(</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">CAMPAIGN_CODE VARCHAR2(17) NOT NULL,</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">TEAM_ID VARCHAR2(10) NOT NULL,</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">UUID VARCHAR2(128) NOT NULL,</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">CHECKSUM VARCHAR2(64),</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">SHORT_URL VARCHAR2(100),</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">INSERT_DATA_TS TIMESTAMP,</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">CONSTRAINT PK_CAMPAIGN_TEAM_CK PRIMARY KEY (&quot;CAMPAIGN_CODE&quot;, &quot;TEAM_ID&quot;)</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">);</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">--</span><span style='font-size:19px;font-family:"新細明體","serif";'>欄位註解</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.CAMPAIGN_CODE IS &#39;(REVIEWED)</span><span style='font-size:19px;font-family:"新細明體","serif";'>活動代號</span><span style="font-size:19px;">@@N&#39;;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.TEAM_ID IS &#39;(REVIEWED)</span><span style='font-size:19px;font-family:"新細明體","serif";'>揪團代號</span><span style="font-size:19px;">@@N&#39;;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.UUID IS &#39;(REVIEWED)</span><span style='font-size:19px;font-family:"新細明體","serif";'>隨機</span><span style="font-size:19px;">UUID</span><span style='font-size:19px;font-family:"新細明體","serif";'>供</span><span style="font-size:19px;">CHECKSUM</span><span style='font-size:19px;font-family:"新細明體","serif";'>產生用</span><span style="font-size:19px;">@@N&#39;;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.CHECKSUM IS &#39;</span><span style='font-size:19px;font-family:"新細明體","serif";'>檢核</span><span style="font-size:19px;">CAMPAIGN_CODE</span><span style='font-size:19px;font-family:"新細明體","serif";'>及</span><span style="font-size:19px;">TEAM_ID</span><span style='font-size:19px;font-family:"新細明體","serif";'>之參數值</span><span style="font-size:19px;">@@N&#39;;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.SHORT_URL IS &#39;</span><span style='font-size:19px;font-family:"新細明體","serif";'>短網址</span><span style="font-size:19px;">@@N&#39;;&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">COMMENT ON COLUMN PTAPMGRSIT.CAMPAIGN_TEAM_CK.INSERT_DATA_TS IS &#39;</span><span style='font-size:19px;font-family:"新細明體","serif";'>資料插入時間</span><span style="font-size:19px;">@@N&#39;;&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">----&nbsp;</span><span style='font-size:19px;font-family:"新細明體","serif";'>權限</span><span style="font-size:19px;">&nbsp;----&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">grant select,insert,update,delete on PTAPMGRSIT.CAMPAIGN_TEAM_CK to EBMWMOD_AP_ROLE_SIT;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">grant select on PTAPMGRSIT.CAMPAIGN_TEAM_CK to EBMWQRY_AP_ROLE_SIT;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">----&nbsp;</span><span style='font-size:19px;font-family:"新細明體","serif";'>建立別名</span><span style="font-size:19px;">&nbsp;----&nbsp;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">create synonym EBMWUSRSIT01.CAMPAIGN_TEAM_CK for PTAPMGRSIT.CAMPAIGN_TEAM_CK;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">create synonym EBMWUSRSIT02.CAMPAIGN_TEAM_CK for PTAPMGRSIT.CAMPAIGN_TEAM_CK;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">create synonym EBMWUSRSIT03.CAMPAIGN_TEAM_CK for PTAPMGRSIT.CAMPAIGN_TEAM_CK;</span></p>
<p style='margin:0cm;margin-bottom:.0001pt;font-size:16px;font-family:"Calibri","sans-serif";'><span style="font-size:19px;">&nbsp;</span></p>		
		</div>				
				
				<br/>
				<br/>
				Housekeeping : <br/>
				<div border='1' style="border-style: dotted dashed solid double; padding:5px;">
				請協助刪除資料，現在時間大於 INSERT_DATA_TS 一年以上資料。<br/>
				
				
<p>--######################################################################</p>
<p>--# INEB_DEVICE_BIND_LOG (Keep 5 years)</p>
<p>--######################################################################</p>
<p>select &#39;################################################################&#39; from dual;</p>
<p>select &#39;&gt;&gt;&gt;&gt; Timestamp: &#39;|| to_char(sysdate,&#39;YYYY-MM-DD HH:MI:SS&#39;) from dual;</p>
<p>select &#39;&gt;&gt;&gt;&gt; Delete Table: INEB_DEVICE_BIND_LOG&#39; from dual;</p>
<p><br></p>
<p>DECLARE</p>
<p><span style="white-space:pre;">&nbsp; &nbsp;&nbsp;</span>v_COMMIT INT := 10000;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; v_TOTAL INT := 0;</p>
<p>BEGIN</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; LOOP</p>
<p><span style="white-space:pre;">&nbsp; &nbsp;&nbsp;</span>delete from INEB_DEVICE_BIND_LOG</p>
<p><span style="white-space:pre;">&nbsp; &nbsp;&nbsp;</span>where CREATE_TIME &lt; add_months(sysdate, -60)</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; and rownum &lt;= v_COMMIT;</p>
<p><br></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; v_TOTAL := v_TOTAL + SQL%rowcount;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; dbms_output.put_line( trim( to_char( v_TOTAL,&#39;999999999999&#39;)) || &#39; rows deleted...&#39;) ;</p>
<p><br></p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; EXIT WHEN SQL%rowcount &lt; v_COMMIT;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; commit;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; END LOOP;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; commit;</p>
<p>&nbsp; &nbsp; dbms_output.put_line( &#39;INEB_DEVICE_BIND_LOG: TOTAL &#39; || trim( to_char( v_TOTAL,&#39;999999999999&#39;)) || &#39; rows deleted!&#39;) ;</p>
<p>END;</p>				
				
				</div>
				<br/>
				<br/>				
				
				<TABLE BORDER="1" class="cinereousTable">
					<tbody>
						<TR>
							<TD>
							檢測項目
							</TD>
							<TD>
							檢測結果
							</TD>

						</TR>

						<TR>
							<TD>
							各物件名稱 是否符合命名規則？
							</TD>
							<TD>
							正確
							</TD>
						</TR>
						<TR>
							<TD>
							欄位註解須有敏資註記、欄位名稱若含關鍵字須加註(REVIEWED)
							</TD>
							<TD>
							正確
							</TD>
						</TR>
						
						
						<TR>
							<TD>
							GRANT語法 與 CREATE SYNONYM 語法 必須同時具備
							</TD>
							<TD>
							正確
							</TD>
						</TR>						
						
						
						
						
					</tbody>	
				</TABLE>



		</div>
		



		<br/><hr/><br/>
		
		
		
		

</body>
</html>
